# ===========================================
# SOS-Bridge Agent - Environment Configuration
# ===========================================
# Copy file này thành .env và điền các giá trị thực

# ---------------------------------------------
# AI Configuration
# ---------------------------------------------
# Google API Key cho Gemini AI (Vision + LLM)
# Lấy tại: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here

# ---------------------------------------------
# Database Configuration (PostgreSQL)
# ---------------------------------------------
# Kết nối PostgreSQL - BẮT BUỘC cho production
# Format: postgresql://username:password@host:port/database
# 
# Local development:
DATABASE_URL=postgresql://postgres:password@localhost:5432/sosbridge
#
# Supabase (hosted PostgreSQL):
# DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
#
# Neon (serverless PostgreSQL):
# DATABASE_URL=postgresql://[USER]:[PASSWORD]@[HOST].neon.tech/sosbridge?sslmode=require
#
# Để trống để dùng in-memory store (không khuyến nghị cho production)

# ---------------------------------------------
# Blockchain Configuration (Base Sepolia Testnet)
# ---------------------------------------------
# RPC URL cho Base Sepolia
# Public RPC: https://sepolia.base.org
# Alchemy: https://base-sepolia.g.alchemy.com/v2/YOUR_API_KEY
# Infura: https://base-sepolia.infura.io/v3/YOUR_PROJECT_ID
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

# Private key của Treasury wallet
# QUAN TRỌNG: Đây là testnet - KHÔNG BAO GIỜ dùng private key mainnet!
# Cách tạo: Dùng MetaMask hoặc ethers.Wallet.createRandom()
# Format: 64 hex characters (có hoặc không có 0x prefix)
TREASURY_PRIVATE_KEY=your_treasury_private_key_here

# USDC Contract Address trên Base Sepolia
# Official USDC: 0x036CbD53842c5426634e7929541eC2318f3dCF7e
USDC_CONTRACT_ADDRESS=0x036CbD53842c5426634e7929541eC2318f3dCF7e

# ---------------------------------------------
# Telegram Bot Configuration
# ---------------------------------------------
# Bot Token từ @BotFather
# Cách lấy:
#   1. Mở Telegram, tìm @BotFather
#   2. Gửi /newbot và làm theo hướng dẫn
#   3. Copy token được cấp (format: 123456789:ABCdefGHIjklMNOpqrSTUvwxYZ)
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather

# Webhook URL (chỉ dùng cho production)
# Để trống nếu chạy development mode (polling)
# Ví dụ: https://your-domain.com/webhook/telegram
# TELEGRAM_WEBHOOK_URL=

# ---------------------------------------------
# Application Settings
# ---------------------------------------------
# Node environment
NODE_ENV=development

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Default reward amount in USDC
DEFAULT_REWARD_USDC=20

# ===========================================
# SETUP GUIDE - PRODUCTION READY (Phase 3)
# ===========================================
# 
# 1. POSTGRESQL DATABASE SETUP:
#    
#    Option A - Local PostgreSQL:
#    - Cài đặt PostgreSQL: brew install postgresql (macOS)
#    - Khởi động: brew services start postgresql
#    - Tạo database: createdb sosbridge
#    - Set DATABASE_URL trong .env
#    - Chạy migration: npm run db:migrate
#    - Seed data (optional): npm run db:seed
#
#    Option B - Supabase (Hosted - Khuyến nghị):
#    - Tạo project tại https://supabase.com
#    - Lấy connection string từ Settings > Database
#    - Copy vào DATABASE_URL
#    - Chạy migration: npm run db:migrate
#
#    Option C - Neon (Serverless):
#    - Tạo project tại https://neon.tech
#    - Copy connection string vào DATABASE_URL
#    - Thêm ?sslmode=require nếu cần
#
# 2. TELEGRAM BOT SETUP:
#    - Mở Telegram, tìm @BotFather
#    - Gửi /newbot để tạo bot mới
#    - Đặt tên và username cho bot
#    - Copy token vào TELEGRAM_BOT_TOKEN
#    
#    Thiết lập commands (optional):
#    - Gửi /setcommands đến @BotFather
#    - Chọn bot của bạn
#    - Paste các commands:
#      start - Bắt đầu sử dụng
#      help - Xem hướng dẫn
#      status - Trạng thái hệ thống
#      mytickets - Xem yêu cầu của bạn
#      register - Đăng ký đội cứu hộ
#      profile - Xem thông tin cá nhân
#      wallet - Thiết lập ví nhận thưởng
#      online - Bật nhận nhiệm vụ
#      offline - Tắt nhận nhiệm vụ
#
# 3. BASE SEPOLIA WALLET SETUP:
#    - Mở MetaMask > Thêm network:
#      Network Name: Base Sepolia
#      RPC URL: https://sepolia.base.org
#      Chain ID: 84532
#      Currency: ETH
#      Explorer: https://sepolia.basescan.org
#    - Tạo account mới (Treasury wallet)
#    - Export private key > Copy vào TREASURY_PRIVATE_KEY
#
# 4. NHẬN TESTNET TOKENS:
#    - ETH (for gas):
#      https://www.coinbase.com/faucets/base-ethereum-goerli-faucet
#      hoặc https://faucet.quicknode.com/base/sepolia
#    
#    - USDC (for rewards):
#      Option 1: Dùng USDC faucet nếu có
#      Option 2: Swap ETH -> USDC trên Uniswap testnet
#      Option 3: Deploy mock USDC contract cho testing
#
# 5. RUN COMMANDS:
#    - npm install         # Cài dependencies
#    - npm run db:migrate  # Tạo database tables
#    - npm run db:seed     # Thêm demo data
#    - npm run dev         # Demo workflow
#    - npm run bot         # Telegram bot
#    - npm run test        # Run tests
#    - npm run test:watch  # Watch mode
#
# 6. VERIFY SETUP:
#    - Gửi /start đến bot để test
#    - Gửi /status để xem thống kê
#    - Đăng ký rescuer với /register
#    - Test SOS message để tạo ticket
#
# ===========================================
# PRODUCTION CHECKLIST
# ===========================================
# [ ] DATABASE_URL pointing to production PostgreSQL
# [ ] GOOGLE_API_KEY with sufficient quota
# [ ] TREASURY_PRIVATE_KEY (NEVER use mainnet keys!)
# [ ] TELEGRAM_BOT_TOKEN from BotFather
# [ ] Webhook URL configured (for production)
# [ ] Treasury wallet funded with ETH + USDC
# [ ] Database migrated and indexed
# [ ] Error monitoring setup (Sentry, etc.)
# [ ] Rate limiting configured
# ===========================================
